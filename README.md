# Text-Image Generator Training Server

–°–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏—ë–º–∞, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è—Ö, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é **text-image-generator**.

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç:
1. –ü—Ä–∏–Ω–∏–º–∞—Ç—å –ø–æ HTTP POST –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ text-image-generator, –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Ö –≤ –ø–∞–ø–∫—É `images-data`.
2. –ó–∞–ø—É—Å–∫–∞—Ç—å –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞, –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–æ–≤ –∏ —Ç.–ø.) –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç.
3. –í –¥–∞–ª—å–Ω–µ–π—à–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –Ω–µ–π—Ä–æ—Å–µ—Ç–∏.
4. –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ `cnn-models`.
5. –°–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –æ–±—É—á–µ–Ω–∏—è, –ø–æ—Ç–µ—Ä—è–º–∏, —É—Ä–æ–≤–Ω–µ–º –æ—à–∏–±–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
6. –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ–≥–Ω–æ–∑–∞ –∏ —Ä–µ–∂–∏–º–µ —Ç–µ—Å—Ç–∞ —Å `expects.json`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/Wildcat2k21/cnn-text-network.git
   cd cnn-text-network
   ```
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install
   ```
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` (–ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `.env.example`), —É–∫–∞–∑–∞–≤ –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞:
   ```
   PORT=3030
   ```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ—Ä—Å–∏—é NodeJS 18.16.1

## –°–∫—Ä–∏–ø—Ç—ã –≤ `package.json`

```jsonc
"scripts": {
  "serv": "node http-server.js",
  "convert": "node convert-image-data.js",
  "train": "node --max-old-space-size=8192 cnn-train.js",
  "usemodel": "node use-model.js"
}
```

- `npm run serv` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç HTTP-—Å–µ—Ä–≤–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—Ä—Ç –∏–∑ `.env`, –∏–ª–∏ 3030).  
- `npm run convert` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.
- `npm run train` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## 1. –ü—Ä–∏—ë–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- **–ü–∞–ø–∫–∞ –¥–ª—è –ø—Ä–∏—ë–º–∞:** `images-data`
- **–°–∫—Ä–∏–ø—Ç —Å–µ—Ä–≤–µ—Ä–∞:** `http-server.js`
- **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
  ```bash
  npm run serv
  ```
  ‚Äî –∏–ª–∏ —Å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ—Ä—Ç–∞:
  ```bash
  npm run serv -- -p 3030 -a 3000
  ```
- **API:**  
  –ü—Ä–∏—ë–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ POST-–∑–∞–ø—Ä–æ—Å –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É:
  ```
  POST /image-data
  ```
  ‚Äî —Å –±–∏–Ω–∞—Ä–Ω—ã–º —Ç–µ–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞ (`multipart/form-data` –∏–ª–∏ `application/octet-stream`).  
  –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `image-data`.

## 2. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

–°–∫—Ä–∏–ø—Ç `convert-image-data.js` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞–∫–µ—Ç–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:

```bash
npm run convert -- --src images-data --dst converted-images --width 32 --height 32 --batch 20 --edge-mode true --limit 5
```

```bash
npm run convert -- --src test-data --dst conv-test-data --width 200 --height 200 --batch 20
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--src`  
  –ü—É—Ç—å –∫ –∏—Å—Ö–æ–¥–Ω–æ–π –ø–∞–ø–∫–µ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `text-images`).  
- `--dst`  
  –ö—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `converted-images`).  
- `--width`  
  –ñ–µ–ª–∞–µ–º–∞—è —à–∏—Ä–∏–Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–≤ –ø–∏–∫—Å–µ–ª—è—Ö).  
- `--height`  
  –ñ–µ–ª–∞–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–≤ –ø–∏–∫—Å–µ–ª—è—Ö).  
- `--batch`  
  –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: —Å–∫–æ–ª—å–∫–æ —Ñ–∞–π–ª–æ–≤ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `10`).  
- `--edge-mode`  
  `true` ‚Äî –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—É—Ä–æ–≤ (Sobel-—Ñ–∏–ª—å—Ç—Ä), `false` ‚Äî –±–µ–∑ –∫–æ–Ω—Ç—É—Ä–æ–≤ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `false`).  
- `--limit`  
  –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: —á–∏—Å–ª–æ –ø–µ—Ä–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ `--src`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ).

## 3. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏

–§–∞–π–ª `cnn-train.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –º–æ–¥–µ–ª–∏
–í —Ñ–∞–π–ª–µ `cnn-train.js` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ø–æ—Ö (`EPOCHS`)
- –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (`BATCH_SIZE`)
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (`IMAGE_HEIGHT`, `IMAGE_WIDTH`)
- –ß–∏—Å–ª–æ –∫–ª–∞—Å—Å–æ–≤ (`NUM_CLASSES`)

### –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è
–î–ª—è –∑–∞–ø—É—Å–∫–∞ –æ–±—É—á–µ–Ω–∏—è —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ—Å—Ç—É–ø–Ω–æ–π –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –∏ —á–∏—Å–ª–æ–º —è–¥–µ—Ä, –Ω—É–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `package.json` –≤ —Ä–∞–∑–¥–µ–ª–µ `scripts`:

```json
"train": "node --max-old-space-size=8192 cnn-train.js"
```

–ó–¥–µ—Å—å `--max-old-space-size=8192` –≤—ã–¥–µ–ª—è–µ—Ç 8 –ì–ë –û–ó–£ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–∞. –î–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –±–æ–ª—å—à–∏–π —Ä–∞–∑–º–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, 16 –ì–ë (8192 ‚Äî —ç—Ç–æ 8 –ì–ë).

### –ó–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —Å –∞—Ä–≥—É–º–µ–Ω—Ç–æ–º –º–æ–¥–µ–ª–∏, –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ:

```bash
npm run train -- --model classifier
```

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–∏–º–µ—Ä–µ –º–æ–¥–µ–ª—å –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ –ø–∞–ø–∫—É `cnn-models/hello-world`. –ï—Å–ª–∏ –ø–∞–ø–∫–∏ `cnn-models` –Ω–µ—Ç, –æ–Ω–∞ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ú–æ–¥–µ–ª—å –±—É–¥–µ—Ç –æ–±—É—á–∞—Ç—å—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

### –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ
- –ö–∞–∂–¥—É—é –º–æ–¥–µ–ª—å –º–æ–∂–Ω–æ –æ–±—É—á–∏—Ç—å —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º, –ø–µ—Ä–µ–¥–∞–≤ –µ–≥–æ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, `model hello-world` –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏.

## 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏

–§–∞–π–ª `use-model.js` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π:

```bash
npm run usemodel -- --model cnn-models/mini-upgraded --dir test-images --batch 10 --run-tests usemodel-json-tests/upgrated-mini.json
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `--model` ‚Äî –ü—É—Ç—å –∫ –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.
- `--dir` ‚Äî –ü–∞–ø–∫–∞ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- `--batch` ‚Äî –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∑–∞ –æ–¥–Ω—É –∏—Ç–µ—Ä–∞—Ü–∏—é).
- `--run-tests` ‚Äî –£–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞ `tests.json`.

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å `tests.json`

–§–∞–π–ª `tests.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –∏–º–µ–µ—Ç –¥–≤–∞ –ø–æ–ª—è:
- `name` ‚Äî –∏–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ.
- `expects` ‚Äî –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å —á–∏—Å–ª–æ–º, –µ—Å–ª–∏ –æ–¥–∏–Ω –≤—ã—Ö–æ–¥, –∏–ª–∏ –º–∞—Å—Å–∏–≤–æ–º, –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ).

–ü—Ä–∏–º–µ—Ä `tests.json`:

```json
[
    { "name": "1745781225690_7.jpg", "expects": 7 },
    { "name": "1745781225692_5.jpg", "expects": 5 },
    { "name": "1745781225693_3.jpg", "expects": 3 },
    { "name": "1745781225694_1.jpg", "expects": 1 },
    { "name": "1745781225695_2.jpg", "expects": 2 }
]
```

–ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ `tests.json` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–∂–∏–¥–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ï—Å–ª–∏ –≤ `expects` —É–∫–∞–∑–∞–Ω–æ –æ–¥–Ω–æ —á–∏—Å–ª–æ, —ç—Ç–æ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–π –∫–ª–∞—Å—Å. –ï—Å–ª–∏ `expects` ‚Äî –º–∞—Å—Å–∏–≤, —Ç–æ —ç—Ç–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.


–°–∫—Ä—ã—Ç—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
node control-generator.js --amount 96465  --interval 5

–° UI, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –æ–∫–Ω
node control-generator.js --amount 96465  --interval 5 --no-headless

```bash
npm run convert -- --src images-data --dst converted-images --width 200 --height 200 --batch 20 --limit 5 --gray true


npm run convert -- --src images-data --dst converted-images --width 200 --height 266 --batch 20 --gray true


npm run convert -- --src test-images --dst conv-test-images --width 200 --height 266 --batch 20 --gray true


npm run convert -- --src test-images --dst conv-test-images --width 200 --height 200 --batch 20 --gray true

npm run convert -- --src real-images --dst conv-real-images --width 200 --height 200 --batch 20 --limit 5 --gray true

npm run convert -- --src real-images --dst conv-real-images --width 200 --height 200 --batch 20 --gray true

npm run convert -- --src test-images --dst conv-test-images --width 200 --height 200 --batch 20 --gray true
```


```bash
node use-model.js --model cnn-temp/font-new/epoch-0 --imgdir conv-test-images --batch 10 --run-tests usemodel-json-tests/classifier.json

node use-model.js --model cnn-temp/epoch-1 --imgdir conv-test-images --batch 10 --run-tests usemodel-json-tests/classifier.json

node use-model.js --model cnn-temp/classifier/epoch-4 --imgdir conv-test-images --batch 10 --run-tests usemodel-json-tests/classifier.json

node use-model.js --model cnn-temp/classifier/epoch-4 --imgdir conv-real-images --batch 10

node use-model.js --model cnn-temp/epoch-4/epoch-2 --imgdir conv-test-images --batch 10 --run-tests usemodel-json-tests/classifier.json

node use-model.js --model cnn-temp/epoch-4/epoch-2 --imgdir conv-real-images --batch 10 --run-tests usemodel-json-tests/classifier.json

node use-model.js --model cnn-temp/charWH/epoch-1 --imgdir conv-real-images --batch 10 --run-tests usemodel-json-tests/classifier.json
```

‚úÖ –î–∞
‚úÖ –ù–µ—Ç

```bash
npm run convert -- --src test-data --dst conv-test-data --width 200 --height 200 \
  --batch 20 --edge-mode true --blur 2 --contrast 1.5 --brightness 1.2 --rotate -1 (1 -2 2)
```

npm run convert -- --src real-images --dst conv-real-images --width 200 --height 200 \
  --batch 20 --contrast 1.5 --brightness -1.2


  npm run convert -- --src test-data --dst conv-test-data \
  --width 200 --height 200 --batch 20 \
  --edge-mode true --blur 2 --gray true --contrast 1.5 --brightness 0.8 --sharpen 2

  npm run convert -- --src real-images --dst conv-real-images \
  --width 200 --height 200 --batch 20 --sharpen 2




node control-generator.js -a 118990 -b 100 -i 5

node control-generator.js -a 118990 -b 1000 -i 5 --no-headless

node control-generator.js -a 200000 -b 3000 -i 5 --no-headless




control-generator.js -a 10000 -b 500 -i 5     # headful
control-generator.js -a 10000 -b 500 -i 5 -H  # headless



node control-generator.js \
  --amount 10000 \
  --batch 500 \
  --interval 5 \
  --headless



node control-generator.js \
  --amount 10000 \
  --batch 500 \
  --interval 5



üíª Model: classifier
–≠–ø–æ—Ö–∞ 0/30Epoch 1 / 30
eta=0.0 =====================================================================> 
–≠–ø–æ—Ö–∞ 1/30 [–≠–ø–æ—Ö–∞ 1 ‚Äî loss=0.2324, acc=NaN%, val_loss=0.2383, val_acc=NaN%]
Epoch 2 / 30
eta=0.0 =====================================================================> 
–≠–ø–æ—Ö–∞ 2/30 [–≠–ø–æ—Ö–∞ 2 ‚Äî loss=0.1023, acc=NaN%, val_loss=0.4677, val_acc=NaN%]
Epoch 3 / 30
eta=0.0 =====================================================================> 
–≠–ø–æ—Ö–∞ 3/30 [–≠–ø–æ—Ö–∞ 3 ‚Äî loss=0.0798, acc=NaN%, val_loss=0.3159, val_acc=NaN%]
Epoch 4 / 30
eta=0.0 =====================================================================> 
–≠–ø–æ—Ö–∞ 4/30 [–≠–ø–æ—Ö–∞ 4 ‚Äî loss=0.0635, acc=NaN%, val_loss=0.0881, val_acc=NaN%]
Epoch 5 / 30
eta=0.0 =====================================================================> 
–≠–ø–æ—Ö–∞ 5/30 [–≠–ø–æ—Ö–∞ 5 ‚Äî loss=0.0556, acc=NaN%, val_loss=5.1976, val_acc=NaN%]
Epoch 6 / 30
–≠–ø–æ—Ö–∞ 6 [‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] –ë–∞—Ç—á 179/3750^C


–î–æ–æ–±—É—á–µ–Ω–∏–µ
üíæ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –º–æ–¥–µ–ª–∏ –∏–∑ cnn-temp/classifier/epoch-4
üìà Learning rate: 0.001 

–≠–ø–æ—Ö–∞ 1 / 30 [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] –ë–∞—Ç—á 3750/3750
–≠–ø–æ—Ö–∞ 1/30 [–≠–ø–æ—Ö–∞ 1 ‚Äî loss=0.0207, acc=NaN%, val_loss=0.3227, val_acc=NaN%]
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: —ç–ø–æ—Ö–∞ 1 ‚Üí cnn-temp/epoch-4/epoch-1
–≠–ø–æ—Ö–∞ 2 / 30 [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] –ë–∞—Ç—á 3750/3750
–≠–ø–æ—Ö–∞ 2/30 [–≠–ø–æ—Ö–∞ 2 ‚Äî loss=0.0146, acc=NaN%, val_loss=0.0155, val_acc=NaN%]
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: —ç–ø–æ—Ö–∞ 2 ‚Üí cnn-temp/epoch-4/epoch-2
–≠–ø–æ—Ö–∞ 3 / 30 [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] –ë–∞—Ç—á 3750/3750
–≠–ø–æ—Ö–∞ 3/30 [–≠–ø–æ—Ö–∞ 3 ‚Äî loss=0.0132, acc=NaN%, val_loss=0.0329, val_acc=NaN%]
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ: —ç–ø–æ—Ö–∞ 3 ‚Üí cnn-temp/epoch-4/epoch-3
–≠–ø–æ—Ö–∞ 4 / 30 [‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] –ë–∞—Ç—á 92/3750^C


npm run train -- --model charWH

npm run train -- --teach cnn-temp/font-classifier/epoch-1

npm run train -- --teach cnn-temp/epoch-1/epoch-1
